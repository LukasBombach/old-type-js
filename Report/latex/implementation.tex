%% This is an example first chapter.  You should put chapter/appendix that you
%% write into a separate file, and add a line \include{yourfilename} to
%% main.tex, where `yourfilename.tex' is the name of the chapter/appendix file.
%% You can process specific files by typing their names in at the 
%% \files=
%% prompt when you run the file main.tex through LaTeX.
\chapter{Implementation}

\section{On writing a JavaScript Library}

No IDEs, tools, not even conventions.

Not for building:
Big JS libraries all do it differently.
Top 3 client side JavaScript repositories (stars) on github
https://github.com/search?l=JavaScript\&q=stars\%3A\%3E1\&s=stars\&type=Repositories
Angular.js: Grunt
d3 Makefile, also ein custom build script welche node packages aufruft
jQuery custom scripts, mit grunt und regex und so

Not for Architecture
Angular custom module system with own conventions
d3 mit nested objects (assoc arrays) und funktionen
jQuery mit .fn
ACE mit Klassen, daraus habe ich gelernt


\section{Ich habe verwendet}

Gulp
requireJs
AMDClean
Uglify

JSLint - Douglas Crockford coding dogmatas / conventions
JSCS - JavaScript style guide checker

~~Livereload~~
PhantomJs
Mocha
Chai

Durch Require und AMDClean schöne arbeitsweise (am ende über bord geworfen) und kleine Dateigröße, wenig overhead.

Automatisierte Client side Tests mit PhantomJs und Mocha/Chai


\section{Coding conventions}

Habe mich größtenteils an Crockfordstyle orientiert, aber die Klassen anders geschrieben. Habe den Stil von ACE editor verwendet, denn der ist gut lesbar. Lesbarkeit war mir wichtiger als Crockford style. Für private Eigenschaften und Methoden habe ich die prefix convention verwedendet.
https://developer.mozilla.org/en-US/Add-ons/SDK/Guides/Contributor\_s\_Guide/Private\_Properties
Sie bewirkt keine echte accessibility restriction, aber es ist eine allgemein anerkannten convention und ist auch viel besser lesbar.

\section{Coding Klassen}

Ich habe mich für Klassen entschieden. Das hat folgende Vorteile:

* Klassen sind ein bewährtes Konzept um Code zu kapseln, logisch zu strukturieren und lesbar zu verwalten
* Durch prototypische Vererbung existiert die funktionalität von Klassen nur 1x im Browser 7 RAM
* Zudem gibt es Instanzvariablen, die für jede Type Instanz extra existieren und so mehrere Instanzen erlauben
* Die instanzvariablem sind meistens nur Pointer auf Instanzen anderer Klassen
* Das ganze ist dadurch sehr schlank

\section{Programmstruktur}

Es gibt ein Basisobjekt, das ist die Type "Klasse".
Darin werden dann die anderen Klassen geschrieben "Type.Caret", "Type.Selection", "Type.Range", ...
Das hat den Vorteil dass das ganze ge-name-spaced ist, so dass ich keine Konflikte mit Systemnamen habe (Range) (und auch nicht mit anderen Bibliotheken)